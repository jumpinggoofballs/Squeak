"use strict";
// Application settings
var application = require("application");
application.cssFile = './app.css';
// MomentJS made available globally
var moment = require("moment");
function fromNow(value) {
    if (value) {
        return moment(value).fromNow();
    }
}
application.resources['fromNow'] = fromNow;
// Conditionally Load / Initialise Couchbase and Firebase + Notifications listeners, and navigate to the right screen
var app_store_1 = require("./data/app-store");
if (app_store_1.checkAppDataAlreadyInitialised()) {
    application.mainModule = './views/main-page/main-page';
    var appData = new app_store_1.AppData();
    appData.startAppData();
}
else {
    application.mainModule = './views/welcome-page/welcome-page';
}
;
// Conditionally Start Application
application.start();
/*
Do not place any code after the application has been started as it will not
be executed on iOS.
*/
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx1QkFBdUI7QUFDdkIseUNBQTRDO0FBQzVDLFdBQVcsQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDO0FBRWxDLG1DQUFtQztBQUNuQywrQkFBa0M7QUFDbEMsaUJBQWlCLEtBQVc7SUFDeEIsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNSLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDbkMsQ0FBQztBQUNMLENBQUM7QUFDRCxXQUFXLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLE9BQU8sQ0FBQztBQUUzQyxxSEFBcUg7QUFDckgsOENBQTJFO0FBRTNFLEVBQUUsQ0FBQyxDQUFDLDBDQUE4QixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ25DLFdBQVcsQ0FBQyxVQUFVLEdBQUcsNkJBQTZCLENBQUM7SUFDdkQsSUFBTSxPQUFPLEdBQUcsSUFBSSxtQkFBTyxFQUFFLENBQUM7SUFDOUIsT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDO0FBQzNCLENBQUM7QUFBQyxJQUFJLENBQUMsQ0FBQztJQUNKLFdBQVcsQ0FBQyxVQUFVLEdBQUcsbUNBQW1DLENBQUM7QUFDakUsQ0FBQztBQUFBLENBQUM7QUFFRixrQ0FBa0M7QUFDbEMsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBRXBCOzs7RUFHRSIsInNvdXJjZXNDb250ZW50IjpbIi8vIEFwcGxpY2F0aW9uIHNldHRpbmdzXG5pbXBvcnQgYXBwbGljYXRpb24gPSByZXF1aXJlKCdhcHBsaWNhdGlvbicpO1xuYXBwbGljYXRpb24uY3NzRmlsZSA9ICcuL2FwcC5jc3MnO1xuXG4vLyBNb21lbnRKUyBtYWRlIGF2YWlsYWJsZSBnbG9iYWxseVxuaW1wb3J0IG1vbWVudCA9IHJlcXVpcmUoXCJtb21lbnRcIik7XG5mdW5jdGlvbiBmcm9tTm93KHZhbHVlOiBEYXRlKTogYW55IHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG1vbWVudCh2YWx1ZSkuZnJvbU5vdygpO1xuICAgIH1cbn1cbmFwcGxpY2F0aW9uLnJlc291cmNlc1snZnJvbU5vdyddID0gZnJvbU5vdztcblxuLy8gQ29uZGl0aW9uYWxseSBMb2FkIC8gSW5pdGlhbGlzZSBDb3VjaGJhc2UgYW5kIEZpcmViYXNlICsgTm90aWZpY2F0aW9ucyBsaXN0ZW5lcnMsIGFuZCBuYXZpZ2F0ZSB0byB0aGUgcmlnaHQgc2NyZWVuXG5pbXBvcnQgeyBjaGVja0FwcERhdGFBbHJlYWR5SW5pdGlhbGlzZWQsIEFwcERhdGEgfSBmcm9tICcuL2RhdGEvYXBwLXN0b3JlJztcblxuaWYgKGNoZWNrQXBwRGF0YUFscmVhZHlJbml0aWFsaXNlZCgpKSB7XG4gICAgYXBwbGljYXRpb24ubWFpbk1vZHVsZSA9ICcuL3ZpZXdzL21haW4tcGFnZS9tYWluLXBhZ2UnO1xuICAgIGNvbnN0IGFwcERhdGEgPSBuZXcgQXBwRGF0YSgpO1xuICAgIGFwcERhdGEuc3RhcnRBcHBEYXRhKCk7XG59IGVsc2Uge1xuICAgIGFwcGxpY2F0aW9uLm1haW5Nb2R1bGUgPSAnLi92aWV3cy93ZWxjb21lLXBhZ2Uvd2VsY29tZS1wYWdlJztcbn07XG5cbi8vIENvbmRpdGlvbmFsbHkgU3RhcnQgQXBwbGljYXRpb25cbmFwcGxpY2F0aW9uLnN0YXJ0KCk7XG5cbi8qXG5EbyBub3QgcGxhY2UgYW55IGNvZGUgYWZ0ZXIgdGhlIGFwcGxpY2F0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQgYXMgaXQgd2lsbCBub3RcbmJlIGV4ZWN1dGVkIG9uIGlPUy5cbiovXG4iXX0=