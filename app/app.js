"use strict";
// Application settings
var application = require("application");
application.mainModule = './views/main-page/main-page';
application.cssFile = './app.css';
// MomentJS made available globally
var moment = require("moment");
function fromNow(value) {
    if (value) {
        return moment(value).fromNow();
    }
}
application.resources['fromNow'] = fromNow;
var firebase = require("nativescript-plugin-firebase");
firebase.init({
    onPushTokenReceivedCallback: function (token) {
        console.log("Firebase push token: " + token);
    },
    onMessageReceivedCallback: function (message) {
        // not needed -- FCM already pops up a notification. But I will want to suppress that and do my own AFTER decryption.
        // notificationService.notificationListenerInit();
        // notificationService.alertNow(message.body);
    }
}).then(function (instance) {
    // console.log("Firebase initialised successfully.");
}, function (error) {
    console.log("firebase.init error: " + error);
});
// Start Application
application.start();
/*
Do not place any code after the application has been started as it will not
be executed on iOS.
*/
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx1QkFBdUI7QUFDdkIseUNBQTRDO0FBQzVDLFdBQVcsQ0FBQyxVQUFVLEdBQUcsNkJBQTZCLENBQUM7QUFDdkQsV0FBVyxDQUFDLE9BQU8sR0FBRyxXQUFXLENBQUM7QUFFbEMsbUNBQW1DO0FBQ25DLCtCQUFrQztBQUNsQyxpQkFBaUIsS0FBVztJQUN4QixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ1IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNuQyxDQUFDO0FBQ0wsQ0FBQztBQUNELFdBQVcsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBSzNDLHVEQUEwRDtBQUMxRCxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQ1YsMkJBQTJCLEVBQUUsVUFBVSxLQUFLO1FBQ3hDLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUNELHlCQUF5QixFQUFFLFVBQVUsT0FBWTtRQUM3QyxxSEFBcUg7UUFDckgsa0RBQWtEO1FBQ2xELDhDQUE4QztJQUNsRCxDQUFDO0NBQ0osQ0FBQyxDQUFDLElBQUksQ0FDSCxVQUFDLFFBQVE7SUFDTCxxREFBcUQ7QUFDekQsQ0FBQyxFQUNELFVBQUMsS0FBSztJQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFDakQsQ0FBQyxDQUNBLENBQUM7QUFFTixvQkFBb0I7QUFDcEIsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBRXBCOzs7RUFHRSIsInNvdXJjZXNDb250ZW50IjpbIi8vIEFwcGxpY2F0aW9uIHNldHRpbmdzXG5pbXBvcnQgYXBwbGljYXRpb24gPSByZXF1aXJlKCdhcHBsaWNhdGlvbicpO1xuYXBwbGljYXRpb24ubWFpbk1vZHVsZSA9ICcuL3ZpZXdzL21haW4tcGFnZS9tYWluLXBhZ2UnO1xuYXBwbGljYXRpb24uY3NzRmlsZSA9ICcuL2FwcC5jc3MnO1xuXG4vLyBNb21lbnRKUyBtYWRlIGF2YWlsYWJsZSBnbG9iYWxseVxuaW1wb3J0IG1vbWVudCA9IHJlcXVpcmUoXCJtb21lbnRcIik7XG5mdW5jdGlvbiBmcm9tTm93KHZhbHVlOiBEYXRlKTogYW55IHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG1vbWVudCh2YWx1ZSkuZnJvbU5vdygpO1xuICAgIH1cbn1cbmFwcGxpY2F0aW9uLnJlc291cmNlc1snZnJvbU5vdyddID0gZnJvbU5vdztcblxuLy8gSW5pdGlhbGlzZSBGaXJlYmFzZSArIE5vdGlmaWNhdGlvbnNcbmltcG9ydCAqIGFzIG5vdGlmaWNhdGlvblNlcnZpY2UgZnJvbSAnLi9kYXRhL25vdGlmaWNhdGlvbic7XG5cbmltcG9ydCBmaXJlYmFzZSA9IHJlcXVpcmUoXCJuYXRpdmVzY3JpcHQtcGx1Z2luLWZpcmViYXNlXCIpO1xuZmlyZWJhc2UuaW5pdCh7XG4gICAgb25QdXNoVG9rZW5SZWNlaXZlZENhbGxiYWNrOiBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZSBwdXNoIHRva2VuOiBcIiArIHRva2VuKTtcbiAgICB9LFxuICAgIG9uTWVzc2FnZVJlY2VpdmVkQ2FsbGJhY2s6IGZ1bmN0aW9uIChtZXNzYWdlOiBhbnkpIHtcbiAgICAgICAgLy8gbm90IG5lZWRlZCAtLSBGQ00gYWxyZWFkeSBwb3BzIHVwIGEgbm90aWZpY2F0aW9uLiBCdXQgSSB3aWxsIHdhbnQgdG8gc3VwcHJlc3MgdGhhdCBhbmQgZG8gbXkgb3duIEFGVEVSIGRlY3J5cHRpb24uXG4gICAgICAgIC8vIG5vdGlmaWNhdGlvblNlcnZpY2Uubm90aWZpY2F0aW9uTGlzdGVuZXJJbml0KCk7XG4gICAgICAgIC8vIG5vdGlmaWNhdGlvblNlcnZpY2UuYWxlcnROb3cobWVzc2FnZS5ib2R5KTtcbiAgICB9XG59KS50aGVuKFxuICAgIChpbnN0YW5jZSkgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkZpcmViYXNlIGluaXRpYWxpc2VkIHN1Y2Nlc3NmdWxseS5cIik7XG4gICAgfSxcbiAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJmaXJlYmFzZS5pbml0IGVycm9yOiBcIiArIGVycm9yKTtcbiAgICB9XG4gICAgKTtcblxuLy8gU3RhcnQgQXBwbGljYXRpb25cbmFwcGxpY2F0aW9uLnN0YXJ0KCk7XG5cbi8qXG5EbyBub3QgcGxhY2UgYW55IGNvZGUgYWZ0ZXIgdGhlIGFwcGxpY2F0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQgYXMgaXQgd2lsbCBub3RcbmJlIGV4ZWN1dGVkIG9uIGlPUy5cbiovXG4iXX0=